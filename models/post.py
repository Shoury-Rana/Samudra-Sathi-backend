import requests
import json

BASE_URL = "http://localhost:8000"

def analyze_batch_reports(reports):
    url = f"{BASE_URL}/analyze/batch"
    payload = {"reports": reports}
    headers = {"Content-Type": "application/json"}

    response = requests.post(url, headers=headers, data=json.dumps(payload))
    
    if response.status_code == 200:
        batch_results = response.json()
        print("Batch Hazard Analysis Results:")
        print(json.dumps(batch_results, indent=4))
        return batch_results
    else:
        print(f"Error ({response.status_code}): {response.text}")
        return None

if __name__ == "__main__":
    reports_to_analyze = [
        {
        "text": "рдореБрдВрдмрдИ рдореЗрдВ рднреАрд╖рдг рдмрд╛рдврд╝, рд╣рдЬрд╛рд░реЛрдВ рд▓реЛрдЧ рдлрдВрд╕реЗ рд╣реБрдП рд╣реИрдВред рддрддреНрдХрд╛рд▓ рдмрдЪрд╛рд╡ рдХрд╛рд░реНрдп рдХреА рдЬрд░реВрд░рдд рд╣реИред",
        "source": "social_media"
    },
    {
        "text": "рдЪреЗрдиреНрдирдИ рддрдЯ рдкрд░ рд╕реБрдирд╛рдореА рдХреА рдЪреЗрддрд╛рд╡рдиреА рдЬрд╛рд░реА, рд▓реЛрдЧреЛрдВ рдХреЛ рддреБрд░рдВрдд рд╕реБрд░рдХреНрд╖рд┐рдд рд╕реНрдерд╛рди рдкрд░ рдЬрд╛рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреА рдЧрдИ рд╣реИред",
        "source": "official_alert"
    },
    {
        "text": "рджрд┐рд▓реНрд▓реА-рдПрдирд╕реАрдЖрд░ рдореЗрдВ 6.2 рддреАрд╡реНрд░рддрд╛ рдХрд╛ рднреВрдХрдВрдк, рдЗрдорд╛рд░рддреЗрдВ рд╣рд┐рд▓ рдЧрдИрдВред рд▓реЛрдЧреЛрдВ рдореЗрдВ рджрд╣рд╢рдд рдлреИрд▓реА рд╣реБрдИ рд╣реИред",
        "source": "news_report"
    },
    {
        "text": "рдЧреБрдЬрд░рд╛рдд рдореЗрдВ рдЪрдХреНрд░рд╡рд╛рддреА рддреВрдлрд╛рди рдХреА рдЪреЗрддрд╛рд╡рдиреА, рдордЫреБрдЖрд░реЛрдВ рдХреЛ рд╕рдореБрджреНрд░ рдореЗрдВ рди рдЬрд╛рдиреЗ рдХреА рд╕рд▓рд╛рд╣ред",
        "source": "weather_service"
    },
    {
        "text": "рдЙрддреНрддрд░рд╛рдЦрдВрдб рдореЗрдВ рднреВрд╕реНрдЦрд▓рди рд╕реЗ 15 рд▓реЛрдЧ рджрдмреЗ, рдмрдЪрд╛рд╡ рдЯреАрдо рдореМрдХреЗ рдкрд░ рдкрд╣реБрдВрдЪреАред",
        "source": "emergency_services"
    },
    {
        "text": "рд░рд╛рдЬрд╕реНрдерд╛рди рдореЗрдВ рдЬрдВрдЧрд▓реЛрдВ рдореЗрдВ рднреАрд╖рдг рдЖрдЧ, рдХрдИ рдЧрд╛рдБрд╡ рдЦрд╛рд▓реА рдХрд░рд╛рдП рдЧрдПред",
        "source": "local_news"
    },
    
    {
        "text": "ржХрж▓ржХрж╛рждрж╛ржпрж╝ ржнржпрж╝рж╛ржмрж╣ ржЭржбрж╝рзЗрж░ ржЖрж╢ржЩрзНржХрж╛ред ржЖржмрж╣рж╛ржУржпрж╝рж╛ ржжржкрзНрждрж░ ржЬрж░рзБрж░рж┐ рж╕рждрж░рзНржХрждрж╛ ржЬрж╛рж░рж┐ ржХрж░рзЗржЫрзЗред",
        "source": "weather_service"
    },
    {
        "text": "рж╕рзБржирзНржжрж░ржмржирзЗ рж╕рж╛ржЗржХрзНрж▓рзЛржи ржЖржорзНржлрж╛ржирзЗрж░ ржорждрзЛ ржЭржбрж╝рзЗрж░ рж╕ржорзНржнрж╛ржмржирж╛, ржЬрзЗрж▓рзЗржжрзЗрж░ рж╕рждрж░рзНржХ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред",
        "source": "official_alert"
    },
    {
        "text": "рж╕рж┐рж▓рзЗржЯрзЗ ржкрзНрж░ржмрж▓ ржмржирзНржпрж╛ржпрж╝ рж╣рж╛ржЬрж╛рж░рзЛ ржкрж░рж┐ржмрж╛рж░ ржмрж┐ржЪрзНржЫрж┐ржирзНржиред рждрзНрж░рж╛ржг рж╕рж╛ржоржЧрзНрж░рзАрж░ ржЬрж░рзБрж░рж┐ ржкрзНрж░ржпрж╝рзЛржЬржиред",
        "source": "social_media"
    },
    {
        "text": "ржврж╛ржХрж╛ржпрж╝ ржнрзВржорж┐ржХржорзНржк ржЕржирзБржнрзВржд рж╣ржпрж╝рзЗржЫрзЗ, ржорж╛ржирзБрж╖ ржнржмржи ржерзЗржХрзЗ ржмрзЗрж░рж┐ржпрж╝рзЗ ржПрж╕рзЗржЫрзЗред",
        "source": "seismic_monitor"
    },
    
    {
        "text": "роЪрпЖройрпНройрпИропро┐ро▓рпН роирпАро░рпН ро╡рпЖро│рпНро│роорпН рокро░ро╡ро┐ роЙро│рпНро│родрпБред рокро▓ рокроХрпБродро┐роХро│ро┐ро▓рпН роорпАроЯрпНрокрпБрокрпН рокрогро┐роХро│рпН роироЯроирпНродрпБ ро╡ро░рпБроХро┐ройрпНро▒ройред",
        "source": "local_news"
    },
    {
        "text": "роХрпЛро╡рпИропро┐ро▓рпН ро╡рой родрпА ро╡ро┐рокродрпНродрпБ, 500 роПроХрпНроХро░рпН роХро╛роЯрпБроХро│рпН роОро░ро┐роирпНродрпБ роЪро╛роорпНрокро▓ро╛роХро┐ройред",
        "source": "fire_department"
    },
    {
        "text": "роирпАро▓роХро┐ро░ро┐ рооро╛ро╡роЯрпНроЯродрпНродро┐ро▓рпН роорогрпН роЪро░ро┐ро╡рпБ, роЪро╛ро▓рпИ рокрпЛроХрпНроХрпБро╡ро░родрпНродрпБ роорпБро▒рпНро▒ро┐ро▓рпБроорпН рокро╛родро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБред",
        "source": "traffic_alert"
    },
    {
        "text": "роХройрпНропро╛роХрпБрооро░ро┐ропро┐ро▓рпН роХроЯро▓рпН роЕро▓рпИроХро│ро┐ройрпН роЙропро░роорпН роЕродро┐роХро░ро┐родрпНродрпБро│рпНро│родрпБ, роХроЯро▓рпЛро░ рокроХрпБродро┐ роороХрпНроХро│рпИ ро╡рпЖро│ро┐ропрпЗро▒рпНро▒роорпНред",
        "source": "coastal_guard"
    },
    
    {
        "text": "р░Хр▒Кр░Вр░б р░Ър░░р░┐р░пр▒Б р░╣р▒Ир░жр░░р░╛р░мр░╛р░жр▒Бр░▓р▒Л, р░Ер░ир▒Зр░Х р░Зр░│р▒Нр░│р▒Б р░жр▒Жр░мр▒Нр░мр░др░┐р░ир▒Нр░ир░╛р░пр░┐ред р░░р▒Жр░╕р▒Нр░Хр▒Нр░пр▒В р░Яр▒Ар░ор▒Нр░╕р▒Н р░╡р░Ър▒Нр░Ър░╛р░пр░┐ред",
        "source": "emergency_services"
    },
    {
        "text": "р░╡р░┐р░╢р░╛р░Цр░кр░Яр▒Нр░ир░Вр░▓р▒Л р░др▒Бр░лр░╛р░ир▒Б р░╣р▒Жр░Ър▒Нр░Ър░░р░┐р░Х, р░ор░др▒Нр░╕р▒Нр░пр░Хр░╛р░░р▒Бр░▓р░ир▒Б р░╕р░ор▒Бр░жр▒Нр░░р░Вр░▓р▒Лр░Хр░┐ р░╡р▒Жр░│р▒Нр░▓р░╡р░жр▒Нр░жр░ир░┐ р░╕р░▓р░╣р░╛ред",
        "source": "fisheries_dept"
    },
    {
        "text": "р░╡р░┐р░Ьр░пр░╡р░╛р░бр░▓р▒Л р░Хр▒Гр░╖р▒Нр░гр░╛ р░ир░жр░┐ р░кр▒Кр░Вр░Чр░┐ р░кр▒Кр░░р▒Нр░▓р▒Бр░др▒Лр░Вр░жр░┐, р░╡р░░р░ж р░╣р▒Жр░Ър▒Нр░Ър░░р░┐р░Х р░Ьр░╛р░░р▒А р░Ър▒Зр░╢р░╛р░░р▒Бред",
        "source": "irrigation_dept"
    },
    {
        "text": "Severe flooding reported in multiple areas of Chennai. Emergency services are overwhelmed. Immediate assistance required.",
        "source": "news_report"
    },
    {
        "text": "Earthquake tremors felt in Delhi NCR region. Magnitude estimated at 4.5. No major damage reported so far.",
        "source": "seismic_monitor"
    },
    {
        "text": "Cyclone Biparjoy approaching Gujarat coast. Wind speeds reaching 120 kmph. Coastal evacuation underway.",
        "source": "meteorology"
    },
    {
        "text": "Flash floods in Kedarnath region. Pilgrimage suspended. Helicopter rescue operations initiated.",
        "source": "disaster_management"
    },
    {
        "text": "Forest fires spreading rapidly in ramesh nagar. Several villages evacuated as precautionary measure.",
        "source": "forest_department"
    },
    {
        "text": "Landslide blocks national highway in Uttarakhand. Traffic diverted through alternate routes.",
        "source": "highway_authority"
    },
    {
        "text": "ркЕркоркжрк╛рк╡рк╛ркжркорк╛ркВ ркнрк╛рк░рлЗ рк╡рк░рк╕рк╛ркжркерлА рккрк╛ркгрлА ркнрк░рк╛ркпрлБркВ ркЫрлЗред ркШркгрк╛ рк▓рлЛркХрлЛ ркоркХрк╛ркирлЛркорк╛ркВ рклрк╕рк╛ркпрлЗрк▓рк╛ ркЫрлЗред",
        "source": "local_media"
    },
    {
        "text": "рк╕рлМрк░рк╛рк╖рлНркЯрлНрк░ркорк╛ркВ рк╡рк╛рк╡рк╛ркЭрлЛркбрк╛ркирлА ркЪрлЗркдрк╡ркгрлА, ркорк╛ркЫрлАркорк╛рк░рлЛркирлЗ рк╕ркорлБркжрлНрк░ркорк╛ркВ рки ркЬрк╡рк╛ркирлА рк╕рк▓рк╛рк╣.",
        "source": "port_authority"
    },
    {
        "text": "р┤Хр╡Зр┤░р┤│р┤др╡Нр┤др┤┐р╡╜ р┤╡р╡Жр┤│р╡Нр┤│р┤кр╡Нр┤кр╡Кр┤Хр╡Нр┤Хр┤В, р┤кр┤▓ р┤Ьр┤┐р┤▓р╡Нр┤▓р┤Хр┤│р┤┐р┤▓р╡Бр┤В р┤▒р╡Жр┤бр╡Н р┤Ер┤▓р╡╝р┤Яр╡Нр┤Яр╡Н р┤кр╡Нр┤░р┤Цр╡Нр┤пр┤╛р┤кр┤┐р┤Ър╡Нр┤Ър╡Бред",
        "source": "state_disaster"
    },
    {
        "text": "р┤Хр╡Лр┤Яр╡Нр┤Яр┤пр┤др╡Нр┤др╡Н р┤ор┤гр╡Нр┤гр┤┐р┤Яр┤┐р┤Ър╡Нр┤Ър┤┐р╡╜, р┤Ер┤Юр╡Нр┤Ър╡Н р┤╡р╡Ар┤Яр╡Бр┤Хр╡╛ р┤ир┤╢р┤┐р┤Ър╡Нр┤Ър╡Б. р┤░р┤Хр╡Нр┤╖р┤╛р┤кр╡Нр┤░р┤╡р╡╝р┤др╡Нр┤др┤ир┤В р┤кр╡Бр┤░р╡Лр┤Чр┤ор┤┐р┤Хр╡Нр┤Хр╡Бр┤ир╡Нр┤ир╡Бред",
        "source": "fire_rescue"
    },
    {
        "text": "р▓мр│Жр▓Вр▓Чр▓│р│Вр▓░р▓▓р│Нр▓▓р▓┐ р▓нр│Ар▓Хр▓░ р▓ор▓│р│Ж, р▓Ер▓ир│Зр▓Х р▓кр│Нр▓░р▓жр│Зр▓╢р▓Чр▓│р▓▓р│Нр▓▓р▓┐ р▓ир│Ар▓░р│Б р▓ир▓┐р▓Вр▓др▓┐р▓жр│Жред р▓╕р▓Вр▓Ър▓╛р▓░ р▓╕р│Нр▓ер▓Чр▓┐р▓д.",
        "source": "traffic_police"
    },
    {
        "text": "р▓Хр│Кр▓бр▓Чр▓┐р▓ир▓▓р│Нр▓▓р▓┐ р▓нр│Вр▓Хр│Бр▓╕р▓┐р▓др▓жр▓┐р▓Вр▓ж р▓ор│Вр▓╡р▓░р│Б р▓╕р▓╛р▓╡р│Б, р▓╣р▓др│Нр▓др│Б р▓ор▓Вр▓жр▓┐ р▓Чр▓╛р▓п.",
        "source": "district_collector"
    },
    {
        "text": "рдкреБрдгреНрдпрд╛рдд рдореБрд╕рд│рдзрд╛рд░ рдкрд╛рдКрд╕, рдЕрдиреЗрдХ рднрд╛рдЧрд╛рдВрдордзреНрдпреЗ рдкрд╛рдгреА рд╕рд╛рдЪрд▓рдВ рдЖрд╣реЗред рд╡рд╛рд╣рддреВрдХ рдХреЛрд▓рдордбрд▓реА.",
        "source": "municipal_corp"
    },
    {
        "text": "рдХреЛрд▓реНрд╣рд╛рдкреВрд░рдордзреНрдпреЗ рдХреГрд╖реНрдгрд╛ рдирджреА рдкреВрд░реНрдг рдХреНрд╖рдорддреЗрдиреЗ рд╡рд╛рд╣рдд рдЖрд╣реЗ, рдкреВрд░рдЧреНрд░рд╕реНрдд рднрд╛рдЧрд╛рддреАрд▓ рд▓реЛрдХрд╛рдВрдирд╛ рд╕реНрдерд▓рд╛рдВрддрд░ рдХрд░рдгреНрдпрд╛рдЪреЗ рдЖрджреЗрд╢.",
        "source": "collector_office"
    },
    {
        "text": "ри▓рйБризри┐риЖригрйЗ ри╡ри┐рй▒риЪ риЬри╝рйЛри░рижри╛ри░ римри╛ри░ри┐ри╕ри╝, ри╕ри╝ри╣ри┐ри░ ри╡ри┐рй▒риЪ рикри╛ригрйА ринри░ риЧри┐риЖред ри▓рйЛриХ риорйБри╕ри╝риХри┐ри▓ри╛риВ ри╡ри┐рй▒риЪред",
        "source": "civic_body"
    },
    {
        "text": "рмнрнБрммрмирнЗрм╢рнНрн▒рм░рм░рнЗ рмкрнНрм░рммрм│ рмШрнВрм░рнНрмгрнНрмгрм┐рммрм╛рмдрнНрнЯрм╛рм░ рмЖрм╢рмЩрнНрмХрм╛, рмЙрмкрмХрнВрм│рммрм░рнНрмдрнА рмЕрмЮрнНрмЪрм│рм░рнЗ рм╕рмдрм░рнНрмХрмдрм╛ред",
        "source": "cyclone_center"
    },
    {
        "text": "London рдореЗрдВ рднрд╛рд░рддреАрдп community рдХреЛ flood warning рджреА рдЧрдИ рд╣реИред Thames рдирджреА рдХрд╛ рдЬрд▓ рд╕реНрддрд░ рдмрдврд╝ рд░рд╣рд╛ рд╣реИред",
        "source": "diaspora_news"
    },
    {
        "text": "Dubai рдореЗрдВ рд░рд╣рдиреЗ рд╡рд╛рд▓реЗ Indians рдХреЛ sandstorm рдХреА рдЪреЗрддрд╛рд╡рдиреАред рддреЗрдЬрд╝ рд╣рд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рдзреВрд▓ рднрд░реА рдЖрдВрдзреА рдХрд╛ рдЕрдиреБрдорд╛рдиред",
        "source": "expat_alert"
    },
    {
        "text": "Help needed! рдмрд╛рдврд╝ рдХрд╛ рдкрд╛рдиреА рдШрд░ рдореЗрдВ рдШреБрд╕ рдЧрдпрд╛ рд╣реИ Bandra рдореЗрдВред Kids scared. Anyone nearby please help! #MumbaiFloods",
        "source": "twitter"
    },
    {
        "text": "URGENT: Earthquake felt in Gurgaonред Building shaking рдмрд╣реБрдд рдЬреНрдпрд╛рджрд╛ред Everyone evacuatingред Stay safe everyone! ЁЯЩП",
        "source": "facebook"
    }

    ]
    
    analyze_batch_reports(reports_to_analyze)
